MAC_PRINT MACRO X
MOV AX,X
ADD AMOUNT,AX
MOV DX,0 ;REMINDER IS 0
MOV BX,10
MOV CX,0
L:
DIV BX
PUSH DX
MOV DX,0
MOV AH,0
INC CX
CMP AX,0
JNE L
; PRINT "GIVEN AMOUNT = "
PRINTN

L2:
POP DX
ADD DX,48
MOV AH,2
INT 21H
LOOP L2

ENDM

MAC_PRINT2 MACRO Y
MOV AX,Y
ADD AMOUNT,AX
MOV DX,0 ;REMINDER IS 0
MOV BX,10
MOV CX,0
L_2:
DIV BX
PUSH DX
MOV DX,0
MOV AH,0
INC CX
CMP AX,0
JNE L_2
;  PRINT "GIVEN AMOUNT = "
PRINTN

L2_1:
POP DX
ADD DX,48
MOV AH,2
INT 21H
LOOP L2_1

ENDM

MAC_PRINT3 MACRO Z
MOV AX,Z
ADD AMOUNT,AX
MOV DX,0 ;REMINDER IS 0
MOV BX,10
MOV CX,0
L_3:
DIV BX
PUSH DX
MOV DX,0
MOV AH,0
INC CX
CMP AX,0
JNE L_3
;  PRINT "GIVEN AMOUNT = "
PRINTN

L3_1:
POP DX
ADD DX,48
MOV AH,2
INT 21H
LOOP L3_1

ENDM

MAC_TOTAL MACRO AM
MOV AX,AM
MOV DX,0 ;REMINDER IS 0
MOV BX,10
MOV CX,0
AM1:
DIV BX
PUSH DX
MOV DX,0
; MOV AH,0
INC CX
CMP AX,0
JNE AM1
;  PRINT "GIVEN AMOUNT = "
;PRINTN

AH2:
POP DX
ADD DX,48
MOV AH,2
INT 21H
LOOP AH2

ENDM


;-------------------------------------------------------------------
INCLUDE "EMU8086.INC"
.MODEL SMALL
.STACK 100H
.DATA
A DW 200
B DW 300
C DW 400

AMOUNT DW 0
COUNT DW '0'

S_MOT DW '0'
S_CAR DW '0'
S_BUS DW '0'


M1 DB "Total amount is : $"
M2 DB "Total number of vahical : $"
M3 DB "Total number of motor cycle : $"
M4 DB "Total number of car : $"
M5 DB "Total number of bus : $"

MA0 DB "---------------MENU--------------$"
MA1 DB "   1 -> Motor cycle   -   200tk$"
MA2 DB "   2 -> Car   -   300tk$"
MA3 DB "   3 -> Bus   -   400tk$"
MA4 DB "   4 -> To show the record$"
MA5 DB "   5 -> To delete the record$"
MA6 DB "   6 -> Exit$"

MMN DB " Maximum parking size 9 $"
MMN2 DB " Please enter a input (1 - 6) : $"

.CODE
MAIN PROC
MOV AX,@DATA
MOV DS,AX

MOV AH,09H
LEA DX,MMN
INT 21H

WHILE_:

PRINTN
PRINTN

MOV AH,09H
LEA DX,MA0
INT 21H
PRINTN

MOV AH,09H
LEA DX,MA1
INT 21H
PRINTN

MOV AH,09H
LEA DX,MA2
INT 21H
PRINTN

MOV AH,09H
LEA DX,MA3
INT 21H
PRINTN

MOV AH,09H
LEA DX,MA4
INT 21H
PRINTN

MOV AH,09H
LEA DX,MA5
INT 21H
PRINTN

MOV AH,09H
LEA DX,MA6
INT 21H

PRINTN
MOV AH,09H
LEA DX,MMN2
INT 21H

MOV AH,1   ; USER INPUT
INT 21H

; COMPARE
CMP AL,'1'  ; '1' OR 31H
JE P_MOTOR

CMP AL,'2'
JE P_CAR

CMP AL,'3'
JE P_BUS

CMP AL,'4'
JE P_REC

CMP AL,'5'
JE P_DELET

CMP AL,'6'
JE P_EXIT

PRINTN
PRINT "--- !! WRONG INPUT !! ---"
PRINTN


JMP WHILE_


P_MOTOR:
CALL PROC_MOTOR

P_CAR:
CALL PROC_CAR

P_BUS:
CALL PROC_BUS

P_REC:
CALL PROC_RECORD

P_DELET:
CALL PROC_DELET

P_EXIT:
MOV AH,4CH
INT 21H


MAIN ENDP

;--------------------------------------------------------

PROC_MOTOR PROC
CMP COUNT,'9'
JLE J_MOT
PRINT "--- !! Parking Is Full !! ---"
JMP WHILE_
JMP P_EXIT

J_MOT:
MAC_PRINT A

INC COUNT
INC S_MOT


JMP WHILE_
JMP P_EXIT



PROC_CAR PROC
CMP COUNT,'9'
JLE J_CAR
PRINT "--- !! Parking Is Full !! ---"
JMP WHILE_
JMP P_EXIT

J_CAR:
MAC_PRINT2 B

INC COUNT
INC S_CAR
JMP WHILE_
JMP P_EXIT




PROC_BUS PROC
CMP COUNT,'9'
JLE J_BUS
PRINT "--- !! Parking Is Full !! ---"
JMP WHILE_
JMP P_EXIT

J_BUS:
MAC_PRINT3 C

INC COUNT
INC S_CAR
JMP WHILE_
JMP P_EXIT

JMP WHILE_




PROC_RECORD PROC
PRINTN
MOV AH,09H
LEA DX,M1
INT 21H

MAC_TOTAL AMOUNT

XOR DX,DX

PRINTN
MOV AH,09H
LEA DX,M2
INT 21H
MOV DX,COUNT
MOV AH,2
INT 21H

PRINTN
MOV AH,09H
LEA DX,M3
INT 21H
MOV DX,S_MOT
MOV AH,2
INT 21H

PRINTN
MOV AH,09H
LEA DX,M4
INT 21H
MOV DX,S_CAR
MOV AH,2
INT 21H

PRINTN
MOV AH,09H
LEA DX,M5
INT 21H
MOV DX,S_BUS
MOV AH,2
INT 21H


JMP WHILE_
JMP P_EXIT


PROC_DELET PROC
MOV S_MOT,'0'
MOV S_CAR,'0'
MOV S_BUS,'0'
MOV AMOUNT,00
MOV COUNT,'0'
PRINT "--- !!  Delete successfully  !! ---"


JMP WHILE_
JMP P_EXIT


END MAIN




; [SOURCE]: C:\Users\shami\Downloads\projectCode.asm
